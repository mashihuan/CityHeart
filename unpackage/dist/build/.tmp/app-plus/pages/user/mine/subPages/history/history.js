(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/mine/subPages/history/history"],{"38dc":function(t,e,n){},"57f5":function(t,e,n){"use strict";n.r(e);var o=n("c09b"),r=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);e["default"]=r.a},7221:function(t,e,n){"use strict";(function(t){n("d50e"),n("921b");o(n("66fd"));var e=o(n("b1b3"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},b1b3:function(t,e,n){"use strict";n.r(e);var o=n("d9ff"),r=n("57f5");for(var i in r)"default"!==i&&function(t){n.d(e,t,function(){return r[t]})}(i);n("d905");var u=n("2877"),a=Object(u["a"])(r["default"],o["a"],o["b"],!1,null,"245240a2",null);e["default"]=a.exports},c09b:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=u(n("a34a")),r=n("2f62"),i=n("6e09");function u(t){return t&&t.__esModule?t:{default:t}}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){c(t,e,n[e])})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e,n,o,r,i,u){try{var a=t[i](u),c=a.value}catch(s){return void n(s)}a.done?e(c):Promise.resolve(c).then(o,r)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(o,r){var i=t.apply(e,n);function u(t){s(i,o,r,u,a,"next",t)}function a(t){s(i,o,r,u,a,"throw",t)}u(void 0)})}}var l=function(){return n.e("components/collect-item").then(n.bind(null,"d8c3"))},d=function(){return n.e("components/bottom").then(n.bind(null,"d360"))},h=function(){return n.e("components/nodata").then(n.bind(null,"baa5"))},b={name:"",data:function(){return{showBottam:!1,page:1,limit:10}},onLoad:function(){this._reqGetUserHistory()},onReachBottom:function(){this.showBottom||this._reqGetUserHistory()},onNavigationBarButtonTap:function(){var e=this;this.user_history.length<=0?t.showToast({title:"没有内容可清理",icon:"none"}):t.showModal({content:"确定要清空浏览历史吗？",success:function(){var n=f(o.default.mark(function n(r){var u;return o.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(!r.confirm){n.next=5;break}return n.next=3,(0,i.clearUserHistory)({token:t.getStorageSync("token")});case 3:u=n.sent,200==u.code&&e._reqGetUserHistory();case 5:case"end":return n.stop()}},n,this)}));function r(t){return n.apply(this,arguments)}return r}()})},computed:a({},(0,r.mapState)(["user_history"])),methods:a({},(0,r.mapActions)(["reqGetUserHistory"]),{_reqGetUserHistory:function(){this.reqGetUserHistory({data:{token:t.getStorageSync("token")},callback1:this._addPage,callback2:this._showBottom})},_addPage:function(){this.page++},_showBottom:function(){this.showBottom=!0}}),components:{collectItem:l,bottom:d,nodata:h}};e.default=b}).call(this,n("6e42")["default"])},d905:function(t,e,n){"use strict";var o=n("38dc"),r=n.n(o);r.a},d9ff:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r})}},[["7221","common/runtime","common/vendor"]]]);